<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="canteiro">
      <h1 class="titulo">Regue a Plantinha</h1>
      <div class="pontuacao">0</div>
      <ul class="container-plantas">
        <li class="planta" id="1" data-click="0">
          <div class="life">
            <div class="progressbar"></div>
          </div>
          <img src="Assets/Figures/plant-default.png" alt="" />
        </li>
      </ul>
      <div class="acoes">
        <button class="btn iniciar">iniciar</button>
        <button class="btn instrucoes">instruções</button>
      </div>
    </div>
    <footer><h2>desenvolvido por André M.</h2></footer>
  </body>

  <script src="./Planta.js"></script>
  <script src="./Placar.js"></script>
  <script>
    // const vasoDePlanta = [];
    function iniciar() {
      const ul = document.querySelector(".container-plantas");
      ul.innerHTML = "";
      const rosa = new Planta("./Assets/Figures/plant-default.png", 100);
      Planta.placar(new Placar());
      this.removeEventListener("click", iniciar);
    }
    function instrucoes() {
      window.alert(`O objetivo é manter as plantas vivas!
Para isso regue a planta com cliques. Cade clique fornece 50 pontos para a planta. A partir do quinto clique a plantinha florece e você ganha 500 pontos! 
Fique atento a barra de vida de cada plantinha: verde está saudavel; amarelo florece; marrom a planta está morrendo e perde 100 pontos por segundo! 
Atenção regar demais fará a planta morrer! 
`);
    }
    window.onload = () => {
      const btn = document.querySelector(".iniciar");
      const btnInstrucao = document.querySelector(".instrucoes");

      // if(confirm('Começar a jogar ?')){
      btn.addEventListener("click", iniciar);
      btnInstrucao.addEventListener("click", instrucoes);

      // }
    };
    // document.body.addEventListener("click", (e) => {
    //   let ul = document.querySelector(".container-plantas");
    //   if (ul.contains(e.target)) {
    //   } else {
    //     console.log("não");
    //   }
    // });
    // let plantas = new Promise((resolve) => {
    //   let time = setInterval(() => {
    //     if (document.querySelectorAll(".planta").length >= 1) {
    //       resolve(document.querySelectorAll(".planta"));
    //       clearInterval(time);
    //     }
    //   });
    // });
    // plantas.then((elementos) => {
    //   elementos.forEach((element) => {
    //     console.log(elementos);
    //     element.addEventListener("click", () => {
    //       element.dataset.click = +element.dataset.click + 1;
    //       if (element.dataset.click >= 5) {
    //         element.dataset.click = 0;
    //         vasoDePlanta.push(
    //           new Planta("./Assets/Figures/plant-default-water.gif", 100)
    //         );
    //       }
    //     });
    //   });
    // });
    // encerra de vez o codigo
    // let verifica = setInterval(() => {
    //   if (document.querySelector('[data-viva="false"]')) {
    //     Planta.mataTodasPlantas();
    //     clearInterval(verifica);
    //   }
    // });
  </script>
</html>
